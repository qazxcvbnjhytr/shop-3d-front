/* ============================================================
   COMPONENT: DynamicCatalogDropdown
   THEME: Gallery Cream (Architectural, Sharp & Black)
   STATUS: Fixed Conflicts & Wide Layout
   ============================================================ */

:root {
  --cat-trigger-bg: #1F1F1F;    
  --cat-trigger-text: #FFFFFF;  
  
  --cat-list-bg: #FFFFFF;       
  --cat-text-idle: #1F1F1F;     
  
  --cat-item-hover-bg: #1F1F1F; 
  --cat-item-hover-text: #FFFFFF; 
  
  --cat-accent: #C25E00;        
  --cat-border: #E5E5E5;        
  --cat-border-outer: #1F1F1F;  
}

/* 1. WRAPPER */
.catalog-wrapper {
  position: relative;
  width: 320px; /* Ширина меню */
  z-index: 50;
  font-family: 'Tektur', sans-serif;
  
  /* Скидання відступів, щоб уникнути конфліктів з HeaderNav */
  margin: 0;
  padding: 0;
  height: 100%;
  display: flex;
  align-items: center;
}

/* 2. TRIGGER - ЗАВЖДИ ЧОРНИЙ */
.catalog-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  
  width: 100%;
  height: 100%;       /* На всю висоту батьківського блоку */
  min-height: 50px;
  padding: 0 24px;
  
  /* !important для уникнення конфліктів стилів */
  background-color: var(--cat-trigger-bg) !important; 
  color: var(--cat-trigger-text) !important;
  
  border: 1px solid var(--cat-trigger-bg) !important;
  border-radius: 0 !important;
  
  cursor: pointer;
  user-select: none;
  box-sizing: border-box;
}

/* Прибираємо зміни кольору на інших сторінках */
.mode-overlay .catalog-trigger {
  background-color: var(--cat-trigger-bg) !important;
  color: var(--cat-trigger-text) !important;
  border-color: var(--cat-trigger-bg) !important;
}

.catalog-trigger:hover {
  background-color: #000000 !important; /* Трохи темніше при наведенні */
}

.trigger-content {
  display: flex;
  align-items: center;
  gap: 12px;
}

.trigger-title {
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 14px;
  color: #FFFFFF !important;
}

.trigger-icon,
.trigger-arrow {
  color: #FFFFFF !important;
}

.trigger-arrow {
  font-size: 10px;
  transition: transform 0.3s ease;
}
.trigger-arrow.rotated {
  transform: rotate(90deg);
}

/* 3. DROPDOWN LIST */
.catalog-list {
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  
  margin: 0;
  padding: 0;
  list-style: none;
  
  background-color: var(--cat-list-bg);
  border: 1px solid var(--cat-border-outer);
  border-top: none;
  
  z-index: 1000;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1); /* Тінь */
}

/* Статичний список на головній */
.mode-home .catalog-list {
  position: relative;
  top: auto;
  left: auto;
  border-top: 1px solid var(--cat-border-outer);
  margin-top: -1px;
  box-shadow: none;
}

/* 4. ITEMS */
.catalog-item {
  position: relative;
  border-bottom: 1px solid var(--cat-border);
}
.catalog-item:last-child {
  border-bottom: none;
}

.catalog-link {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 14px 24px;
  
  text-decoration: none;
  
  /* Чорний текст у спокої */
  color: var(--cat-text-idle) !important; 
  background-color: transparent;
  
  font-size: 14px;
  font-weight: 500;
  transition: all 0.1s ease;
}

.cat-arrow {
  font-size: 10px;
  color: #999;
}

/* --- HOVER STATE: PARENT --- */
/* Стає чорним, коли миша на ньому АБО на його підменю */
.catalog-item:hover > .catalog-link {
  background-color: var(--cat-item-hover-bg);
  color: var(--cat-item-hover-text) !important;
}

.catalog-item:hover > .catalog-link .cat-arrow {
  color: var(--cat-accent);
}

/* 5. SUBMENU */
.submenu-wrap {
  position: absolute;
  top: -1px;
  left: 100%;
  width: 320px; /* Широке підменю */
  min-height: calc(100% + 1px);
  
  background-color: var(--cat-list-bg);
  border: 1px solid var(--cat-border-outer);
  border-left: 1px solid var(--cat-border);
  
  box-shadow: 10px 10px 30px rgba(0,0,0,0.1);
  
  opacity: 0;
  visibility: hidden;
  z-index: 101;
}

.catalog-item:hover .submenu-wrap {
  opacity: 1;
  visibility: visible;
}

.submenu-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.submenu-item {
  border-bottom: 1px solid var(--cat-border);
}

.submenu-link {
  display: block;
  padding: 14px 24px;
  text-decoration: none;
  
  color: var(--cat-text-idle);
  font-size: 14px;
  transition: all 0.1s ease;
}

/* --- HOVER STATE: CHILD --- */
.submenu-link:hover {
  background-color: var(--cat-item-hover-bg);   /* Чорний фон */
  color: var(--cat-item-hover-text) !important; /* Білий текст */
  padding-left: 30px; /* Зсув */
}

/* 6. STATUS & MOBILE */
.catalog-status {
  padding: 24px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
  color: #888;
}
.catalog-status.error { color: #e74c3c; }
.spinner { animation: spin 1s linear infinite; font-size: 1.2rem; }
@keyframes spin { 100% { transform: rotate(360deg); } }

@media (max-width: 768px) {
  .catalog-wrapper {
    width: 100%;
  }
  .catalog-list {
    position: static;
    border: none;
    border-top: 1px solid var(--cat-border);
  }
  .submenu-wrap {
    position: static;
    width: 100%;
    border: none;
    box-shadow: none;
    border-top: 1px solid var(--cat-border);
    background-color: #fafafa;
    min-height: auto;
  }
  /* Вимикаємо чорний ховер на мобільному */
  .catalog-item:hover > .catalog-link,
  .submenu-link:hover {
    background-color: transparent;
    color: var(--cat-text-idle) !important;
    padding-left: 24px;
  }
}