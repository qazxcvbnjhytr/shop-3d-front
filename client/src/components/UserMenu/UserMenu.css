/* ============================================================
   COMPONENT: UserMenu
   THEME: Gallery Cream (Architectural & Sharp)
   MATCH: Header Icons (Likes/Cart)
   ============================================================ */

:root {
  --um-bg-page: #F0EEE6;       /* Кремовий фон */
  --um-bg-dropdown: #FFFFFF;   /* Білий фон для списку */
  --um-text: #1F1F1F;          /* Графіт */
  --um-border: #D4D1C9;        /* Світла рамка */
  --um-border-strong: #1F1F1F; /* Чорна рамка (актив/дропдаун) */
  --um-accent: #C25E00;        /* Палена глина */
  --um-transition: 0.2s ease;
  --icon-size: 48px;           /* Такий же розмір, як у шапці */
}

/* 1. Container */
.user-controls {
  display: flex;
  align-items: center;
  gap: 1rem; /* Відступ між мовою та іконкою профілю */
  position: relative;
}

/* 2. Unified Button Style (Language & User Trigger) 
   Цей стиль ідентичний .header-icon з попередніх кроків */
.lang-button,
.user-trigger {
  display: flex;
  align-items: center;
  justify-content: center;
  
  width: var(--icon-size);
  height: var(--icon-size);
  
  background-color: transparent;
  color: var(--um-text);
  
  /* ⚠️ ГОСТРІ КУТИ та РАМКА */
  border: 1px solid var(--um-border);
  border-radius: 0; 
  
  cursor: pointer;
  transition: all var(--um-transition);
  
  /* Typography basics */
  font-family: 'Tektur', sans-serif;
  font-size: 1rem; /* Для тексту мови */
  padding: 0;
  outline: none;
}

/* SVG Icon size fix */
.user-icon {
  font-size: 1.3rem;
  fill: currentColor;
}

/* --- HOVER EFFECT: Inversion (Black Box) --- */
.lang-button:hover,
.user-trigger:hover,
.user-menu.open .user-trigger {
  background-color: var(--um-text); /* Чорний фон */
  border-color: var(--um-text);
  color: #fff;                      /* Білий текст/іконка */
}

/* Active Click Effect */
.lang-button:active,
.user-trigger:active {
  background-color: var(--um-accent);
  border-color: var(--um-accent);
  color: #fff;
}

/* Text styles for Language Button specifically */
.lang-button {
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.85rem;
}

/* 3. User Menu Wrapper */
.user-menu {
  position: relative;
}

/* 4. Dropdown Container */
.user-dropdown {
  position: absolute;
  top: 100%;
  right: 0; /* Вирівнювання по правому краю кнопки */
  width: 260px; /* Ширше для зручності */
  
  margin-top: 15px; /* Перекриття рамки */
  
  background-color: var(--um-bg-dropdown);
  border: 1px solid var(--um-border-strong); /* Чітка чорна рамка */
  border-top: none; /* Зливається з кнопкою, якщо вона активна */
  
  box-shadow: 0 10px 30px rgba(31, 31, 31, 0.1);
  
  /* Animation */
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  z-index: 1000;
}

.user-menu.open .user-dropdown {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* 5. Dropdown Header (User Info) */
.user-dd-head {
  padding: 1rem 1.25rem;
  background-color: var(--um-bg-page); /* Кремовий фон для шапки */
  border-bottom: 1px solid var(--um-border);
}

.user-dd-title {
  font-family: 'Tektur', sans-serif;
  font-weight: 700;
  font-size: 0.95rem;
  color: var(--um-text);
  margin-bottom: 0.25rem;
  
  /* Обрізка довгого імені */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.user-dd-sub {
  font-family: 'Inter', sans-serif;
  font-size: 0.75rem;
  color: #666; /* Сірий для другорядної інфо */
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* 6. Dropdown List */
.user-dd-list {
  display: flex;
  flex-direction: column;
  padding: 0;
}

/* List Items (Links/Buttons) */
.user-dd-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  width: 100%;
  padding: 0.85rem 1.25rem;
  
  text-decoration: none;
  background: transparent;
  border: none;
  border-bottom: 1px solid var(--um-border); /* Розділювач */
  
  color: var(--um-text);
  font-family: 'Tektur', sans-serif;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: left;
}

.user-dd-item:last-child {
  border-bottom: none;
}

.user-dd-item svg {
  font-size: 1.1rem;
  color: #888;
  transition: color 0.2s ease;
}

/* --- Item Hover: Inversion --- */
.user-dd-item:hover {
  background-color: var(--um-text); /* Чорний */
  color: #fff;
}

.user-dd-item:hover svg {
  color: var(--um-accent); /* Іконка стає акцентною */
}

/* Special style for Logout/Danger if needed */
.user-dd-item.danger:hover {
  background-color: #3f1a1a; /* Темно-бордовий при наведенні для виходу */
  color: #ffcccc;
}

/* Divider if needed */
.user-dd-divider {
  height: 1px;
  background-color: var(--um-border);
  margin: 0;
}

/* 7. Mobile Adjustments */
@media (max-width: 720px) {
  .user-controls {
    gap: 0.75rem;
  }

  .lang-button,
  .user-trigger {
    width: 40px;
    height: 40px;
    font-size: 0.75rem;
  }
  
  .user-icon {
    font-size: 1.1rem;
  }
  
  /* На мобільному меню на всю ширину або компактніше */
  .user-dropdown {
    width: 220px;
    right: -10px; /* Трохи зміщення, щоб не вилазило */
  }
}